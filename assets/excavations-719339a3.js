import{t as m}from"./translate-a3054a4c.js";import{c as t}from"./job-827048e2.js";import{p as i}from"./sounds-fa21d6c8.js";let s=null;const h=(r=["excavationZone"],o=null)=>{for(let e=0;e<r.length;e++)WA.state[`${r[e]}Discovered`]?(WA.room.hideLayer(`${r[e]}/trace`),WA.room.hideLayer(`${r[e]}/search`),WA.room.showLayer(`${r[e]}/found`),o&&o[e]&&o[e]()):(t("makeExcavation")?(WA.room.showLayer(`${r[e]}/trace`),WA.room.onEnterLayer(`${r[e]}/trace`).subscribe(()=>{WA.state[`${r[e]}Discovered`]||(s=WA.ui.displayActionMessage({message:m("utils.executeAction",{action:m("modules.excavation.makeExcavations")}),callback:()=>{WA.state[`${r[e]}Discovered`]=!0}}))}),WA.room.onLeaveLayer(`${r[e]}/trace`).subscribe(()=>{s==null||s.remove()})):(WA.room.hideLayer(`${r[e]}/trace`),WA.room.hideLayer(`${r[e]}/search`),WA.room.hideLayer(`${r[e]}/found`)),WA.state.onVariableChange(`${r[e]}Discovered`).subscribe(()=>{u(r[e],o?o[e]:null)}))},u=(r,o=null)=>{WA.room.hideLayer(`${r}/trace`),WA.room.showLayer(`${r}/search`),setTimeout(()=>{WA.room.showLayer(`${r}/found`),setTimeout(()=>{WA.room.hideLayer(`${r}/search`),i("successSound"),o&&o()},1e3)},3e3)};export{h as i};
