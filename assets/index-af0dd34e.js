import{t as c}from"./translate-0f2400b3.js";import{a as _}from"./translate-0f2400b3.js";const n=e=>new Promise(o=>{setTimeout(o,e)}),h=e=>{const o=Math.floor(Math.random()*e.length);return e[o]},p=Object.freeze(Object.defineProperty({__proto__:null,wait:n,selectRandomItemInArray:h},Symbol.toStringTag,{value:"Module"})),s=(e,o=!0)=>{if(typeof e=="string")o?WA.room.showLayer(e):WA.room.hideLayer(e);else if(o)for(let t=0;t<e.length;t++)WA.room.showLayer(e[t]);else for(let t=0;t<e.length;t++)WA.room.hideLayer(e[t])},g=async(e,o=300)=>{s(e[0]);for(let t=1;t<e.length;t++)await n(o),s(e[t-1],!1),s(e[t]);s(e[e.length-1],!1)},l=(e,o)=>(console.log("GET TILE COORDINATE",e,o),{x:Math.floor(e/32),y:Math.floor(o/32)}),A=async()=>{const e=await WA.player.getPosition();return l(e.x,e.y)},m=async(e,o,t,a,i=300)=>{console.log("REPLACE TILE ANIMATION",e,o),WA.room.setTiles([{x:e,y:o,tile:t[0],layer:a}]);for(let r=1;r<t.length;r++)await n(i),WA.room.setTiles([{x:e,y:o,tile:t[r],layer:a}])},b=Object.freeze(Object.defineProperty({__proto__:null,toggleLayersVisibility:s,triggerAnimationWithLayers:g,getTileCoordinate:l,getPlayerPositionTileCoordinate:A,replaceTileAnimation:m},Symbol.toStringTag,{value:"Module"})),u=()=>{WA.player.state.saveVariable("chatRoomId",null,{public:!0,persist:!1,score:"room"}),WA.state.receiveChatMessage=!1,WA.state.onVariableChange("receiveChatMessage").subscribe(e=>{e&&(WA.state.chatMessageRoom===null||WA.state.chatMessageRoom===WA.player.state.chatRoomId)&&WA.chat.sendChatMessage(WA.state.chatMessageContent,WA.state.chatMessageAuthor)})},f=(e,o,t=null)=>{WA.state.chatMessageContent=e,WA.state.chatMessageAuthor=o,WA.state.chatMessageRoom=t,WA.state.receiveChatMessage=!0,setTimeout(()=>{WA.state.receiveChatMessage=!1},100)},W=(e=null)=>{WA.player.state.saveVariable("chatRoomId",e,{public:!0,persist:!1,score:"room"})},M=(e,o,t={})=>{for(let a=0;a<e.length;a++)WA.chat.sendChatMessage(c(e[a],t),o)},y=Object.freeze(Object.defineProperty({__proto__:null,initChat:u,setPlayerChatRoomId:W,sendMessageToAllPlayers:f,monologue:M},Symbol.toStringTag,{value:"Module"}));export{y as chat,b as layers,p as main,_ as translations};
