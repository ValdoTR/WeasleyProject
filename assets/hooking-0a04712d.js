import{t as m}from"./translate-9000503a.js";import{c as A}from"./job-d25533de.js";let a=null;const u=(e=["excavationZone"],s=null)=>{for(let r=0;r<e.length;r++)WA.state[`${e[r]}Discovered`]?(WA.room.hideLayer(`${e[r]}/trace`),WA.room.hideLayer(`${e[r]}/search`),WA.room.showLayer(`${e[r]}/found`),s&&s[r]&&s[r]()):(A("makeExcavation")?(WA.room.showLayer(`${e[r]}/trace`),WA.room.onEnterLayer(`${e[r]}/trace`).subscribe(()=>{WA.state[`${e[r]}Discovered`]||(a=WA.ui.displayActionMessage({message:m("utils.executeAction",{action:m("modules.excavation.makeExcavations")}),callback:()=>{WA.state[`${e[r]}Discovered`]=!0}}))}),WA.room.onLeaveLayer(`${e[r]}/trace`).subscribe(()=>{a==null||a.remove()})):(WA.room.hideLayer(`${e[r]}/trace`),WA.room.hideLayer(`${e[r]}/search`),WA.room.hideLayer(`${e[r]}/found`)),WA.state.onVariableChange(`${e[r]}Discovered`).subscribe(()=>{W(e[r],s?s[r]:null)}))},W=(e,s=null)=>{WA.room.hideLayer(`${e}/trace`),WA.room.showLayer(`${e}/search`),setTimeout(()=>{WA.room.showLayer(`${e}/found`),setTimeout(()=>{WA.room.hideLayer(`${e}/search`),s&&s()},1e3)},3e3)};let t=null;const o=(e,s=null)=>{WA.state[`${e}Discovered`]?(WA.room.hideLayer(`${e}/trace`),WA.room.hideLayer(`${e}/search`),WA.room.hideLayer(`${e}/disappear`),WA.room.showLayer(`${e}/found`),s&&s()):(A("makeHooking")?(WA.room.showLayer(`${e}/trace`),WA.room.onEnterLayer(`${e}/trace`).subscribe(()=>{WA.state[`${e}Discovered`]||(t=WA.ui.displayActionMessage({message:m("utils.executeAction",{action:m("modules.hooking.hook")}),callback:()=>{WA.state[`${e}Discovered`]=!0}}))}),WA.room.onLeaveLayer(`${e}/trace`).subscribe(()=>{t==null||t.remove()})):(WA.room.hideLayer(`${e}/trace`),WA.room.hideLayer(`${e}/search`),WA.room.hideLayer(`${e}/found`),WA.room.showLayer(`${e}/disappear`)),WA.state.onVariableChange(`${e}Discovered`).subscribe(()=>{i(e,s)}))},i=(e,s=null)=>{WA.room.hideLayer(`${e}/trace`),WA.room.showLayer(`${e}/search`),setTimeout(()=>{WA.room.showLayer(`${e}/found`),WA.room.hideLayer(`${e}/disappear`),setTimeout(()=>{WA.room.hideLayer(`${e}/search`),s&&s()},1e3)},3e3)};export{u as i,o as s};
